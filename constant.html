<head>
<title>Game of life</title>
</head>
<body>
<center>
<canvas id="d" width="500" height="500"></canvas>
</center>
<script>

var gol_canvas = document.getElementById("d");
var gol_context = gol_canvas.getContext("2d");
var size=20;
var block_num=25;
var tot_size=size*block_num;
var game_table = new Array(block_num);
var game_table_2 = new Array(block_num);
var delay=400;
var rand_x,rand_y;
for(var i=0;i<block_num;i++){
game_table[i]=new Array(block_num);
game_table_2[i]=new Array(block_num);
}
for (i = 0; i < block_num; i++){
           for (j = 0; j < block_num; j++){
  game_table[i][j]=0;
  game_table_2[i][j]=0;
           }
}
/*for(var i=0;i<80;i++){
rand_x = Math.floor(Math.random()*block_num);
rand_y = Math.floor(Math.random()*block_num);
game_table[rand_x][rand_y]=1;
}
*/for (var x=11;x<14;x+=1)
   for (var y=11;y<14;y+=1)
     { //ctx.moveTo(x, y);
        game_table[x][y]=1;
     }

draw_table();

setTimeout("gol()",delay);

function gol(){
        var counter_no = 0,i,j;
        
        for (i = 0; i < block_num; i++){
           for (j = 0; j < block_num; j++){
            counter_no = counter(i,j);
                if(game_table[i][j]==1)
                {
                 if(counter_no==2||counter_no==3)
                 game_table_2[i][j]=1;
                 else
                 game_table_2[i][j]=0;
                }
         else
         {
         if(counter_no==3)
         game_table_2[i][j]=1;
         else
         game_table_2[i][j]=0;
         }
              }
           }
          
       for (i = 0; i < block_num; i++)
             for (j = 0; j < block_num; j++)
         game_table[i][j]=game_table_2[i][j];
        
      draw_table();
        
           setTimeout("gol()",400);
}
function draw_table(){

for(var i=0;i<block_num;i++){

for(var j=0;j<block_num;j++){

if(game_table[i][j]==0){
gol_context.fillStyle="#EEE";}
else{
gol_context.fillStyle="#000";}

gol_context.fillRect(i*size,j*size,size-2,size-2);

}

}

}
function counter(m, n)
{

                        var counter = 0;
                        for(var i=m-1;i<=m+1;i++)
                        {
                         for(var j=n-1;j<=n+1;j++)
                        
                         {
                        
                         if(game_table[i]!=undefined && game_table[i][j]===1)
                         counter++;
                        
                         }
                        }
                                             
                        return counter-game_table[m][n];
}
</script>
</body>
